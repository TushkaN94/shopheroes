<!DOCTYPE html>
<html>
  <head>
    <title>Shop Heroes Team Builder</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta charset="utf-8">
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
    <meta name="Description" content=""/>
    <link rel="stylesheet" type="text/css" href="jquery/css/jquery-ui.min.css" media="screen"/>
    <link rel="stylesheet" type="text/css" href="select2/css/select2.css" media="screen"/>
    <link rel="stylesheet" type="text/css" href="css/sh.css?v=2.7.11" media="screen"/>
    <link rel="stylesheet" type="text/css" href="css/icons.css?v=2.7.11" media="screen"/>
    <link rel="stylesheet" type="text/css" href="css/tooltip.css?v=2.7.11" media="screen"/>
    <script type="text/javascript" src="jquery/js/jquery.min.js"></script>
    <script type="text/javascript" src="jquery/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="js/cache.js?v=2.7.11"></script>
    <script type="text/javascript" src="select2/js/select2.min.js"></script>
    <script type="text/javascript" src="vue/js/vue.js"></script>
    <script async type="text/javascript" src="data/supplementaries.js?v=2.7.11"></script>
    <script async type="text/javascript" src="data/skills.js?v=2.7.11"></script>
    <script async type="text/javascript" src="data/origins.js?v=2.7.11"></script>
    <script async type="text/javascript" src="data/quests.js?v=2.7.11"></script>
    <script async type="text/javascript" src="data/items.js?v=2.7.11"></script>
    <script async type="text/javascript" src="data/heroes.js?v=2.7.11"></script>
    <script type="text/javascript" src="js/main.js?v=2.7.11"></script>
    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-107341279-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments)};
      gtag('js', new Date());
      gtag('config', 'UA-107341279-1');
    </script>
  </head>
  <body>
    <div id="tabs">
      <ul>
        <li>
          <a href="#tabs-help">Help</a>
        </li>
        <li>
          <a href="#tabs-teams">Teams</a>
        </li>
        <li>
          <a href="#tabs-heroes">Heroes</a>
        </li>
        <li>
          <a href="#tabs-items">Items</a>
        </li>
        <li>
          <a href="#tabs-origins">Origins</a>
        </li>
        <li>
          <a href="#tabs-quests">Quests</a>
        </li>
        <li>
          <a href="#tabs-data">Data</a>
        </li>
      </ul>
      <div id="tabs-help">
        <h1>Hello, visitor!</h1>
        <p>
        <p>The main idea of this site is to provide functionality for building team setups.</p>
        <p>I developed this site to use it in offline mode, it doesn't use server as backend, so you can't share links on setups, nor you can share your setups between different medias.</p>
        <p>Well, lies, you actually can share setups, that's why there's Data tab, but using it is tricky.</p>

        <h2>Credits</h2>
        <p>I want to thank all those people created and maintaining <a href="http://bit.ly/shopheroes" target="_blank">Shop Heroes Spreadsheet</a> for this is an incredible source of ingame data!</p>
        <p>And I give my due respects to creators of Team Builder Redux for inspiring me to make this site.</p>
        
        <h2>Basics</h2>
        <p>Adjust your heroes, items and city upgrades at appropriate tabs:
        <ul>
        <li>at <b>Heroes</b> tab you can adjust heroes levels;</li>
        <li>at <b>Items</b> tab you can adjust which items skills you have mastered. Mark them with checkbox;</li>
        <li>at <b>Origins</b> tab mark owned buildings and packs and adjust buildings level and crown jewels upgrades level.</li>
        </ul>
        All those tables can be filtered many ways, so you can faster navigate to specific item/hero you need.
        </p>

        <h2>Teams</h2>
        <p>Now you can proceed to <b>Teams</b> tab and start your party assembling</p>
        <p>First add new team by clicking <i>plus</i> button.</p>
        <p>Now you can start edit it by clicking <i>pencil</i> button on the left of team name. Set the team name and add heroes to it's roster. Checkbox near hero power emulates bulding boost bonus.</p>
        
        <h2>Data</h2>
        <p>You can export and import custom data (ie changes info).</p>
        <p>Select an option and do what you want:
        <ul>
        <li>click <b>Clean</b> button to clear all changes made to base info but beware as this is unrecoverable operation;</li>
        <li>click <b>Get</b> button to get all changed data to a text area below - you can save it to a file for future use;</li>
        <li>place previously custom changes to text area and click <b>Set</b> button to load new custom data.</li>
        </ul>
        </p>
        
        <h2>Have fun in game!</h2>
        <p>You can help developing site!</p>
        <p>Send me email with your feedback to <a href="mailto:zarusjamer@gmail.com?subject=Shop Heroes Team Builder">zarusjamer@gmail.com</a>.</p>
        <p>You can also contribute code and designs at <a href="https://github.com/zarusjamer/shopheroes">Git Hub</a> project page.</p>
      </div>
      <div id="tabs-data">
        <div>
          <select id="tabs-data-type">
            <option value="origins">Origins</option>
            <option value="items">Items</option>
            <option value="heroes">Heroes</option>
            <option value="teams">Teams</option>
          </select>
          <input id="tabs-data-clean" type="button" value="Clean"/>
          <input id="tabs-data-get" type="button" value="Get"/>
          <input id="tabs-data-set" type="button" value="Set"/>
        </div>
        <div>
          <textarea id="tabs-data-json"></textarea>
        </div>
      </div>
      <div id="tabs-heroes">
      </div>
      <div id="tabs-teams">
      </div>
      <div id="tabs-items">
      </div>
      <div id="tabs-origins">
      </div>
      <div id="tabs-quests">
      </div>
    </div>
  </body>
  <script type="text/x-template" id="templates-select2">
    <select>
      <slot/>
    </select>
  </script>
  <script type="text/x-template" id="templates-chance">
    <span v-if="chance" class="float-right htooltip">
      <span class="htooltip-text" v-if="!!chance.info">{{chance.info}}</span>
      <span>{{chance.value.pptString(1)}}</span>  
      <span class="icon break" :class="chance.icon"/>
    </span>
  </script>
  <script type="text/x-template" id="templates-power">
    <span class="float-left" v-if="power.value">
      <span class="htooltip icon power">
        <span class="htooltip-text" v-if="!!power.info">{{power.info}}</span>
      </span>
      <span>{{power.value.intString()}}</span>  
    </span>
  </script>
  <script type="text/x-template" id="templates-skill">
    <span v-if="skill">
      <span class="float-left">
        <span class="htooltip icon skill" :class="[ icon( summary.icon ) ]">
          <span class="htooltip-text">{{summary.info}}</span>
        </span>
        <span :class="{inactive: ( view != 'item' ) && !skill.active}">{{skill.name}}</span>
      </span>
      <span class="float-right">{{summary.value}}</span>
    </span>
  </script>
  <script type="text/x-template" id="templates-item-slot">
    <span class="htooltip icon item" :class="[ icon( itemSlot.type ), 'i-affinity' + itemSlot.a ]">
      <span class="htooltip-text">{{summary}}</span>
    </span>
  </script>
  <script type="text/x-template" id="templates-items">
    <div>
      <table class="shopheroes item">
        <thead>
          <tr class="split">
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
          </tr>
          <tr class="split">
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
          </tr>
          <tr class="data-info">
            <th class="name" colspan="2">
              <div>
                <span>Name</span>
              </div>
            </th>
            <th class="type">
              <div>
                <span>Type</span>
                <span class="icon-sortable float-right" :class="[ sorts.type ]" @click="add_sort( $event, 'type' )">
                  <span class="top">&#9650;</span>
                  <span class="bot">&#9660;</span>
                </span>
              </div>
            </th>
            <th class="level">
              <div>
                <span>Level</span>
                <span class="icon-sortable float-right" :class="[ sorts.lv ]" @click="add_sort( $event, 'lv' )">
                  <span class="top">&#9650;</span>
                  <span class="bot">&#9660;</span>
                </span>
              </div>
            </th>
            <th class="power">
              <div>
                <span>Power</span>
              </div>
            </th>
            <th class="item">
              <div>
                <span>Skill</span>
              </div>
            </th>
          </tr>
          <tr class="data-info">
            <td colspan="2">
              <div>
                <input type="search" placeholder="Type in name" class="name" v-model="filters.name"/>
              </div>
            </td>
            <td>
              <div>
                <select2 v-model="filters.type" :options="options.types" :placeholder="'Choose type'"/>
              </div>
            </td>
            <td>
              <div>
                <input type="number" class="lv" v-model.number="filters.lv.min"/>
                <span>&nbsp;-&nbsp;</span>
                <input type="number" class="lv" v-model.number="filters.lv.max"/>
              </div>
            </td>
            <td>
            </td>
            <td>
              <div>
                <select2 v-model="filters.skill" :options="options.skills" :placeholder="'Choose skill'"/>
              </div>
            </td>
          </tr>
          <tr class="data-info">
            <th colspan="2">
              <div>
                <span>Origin</span>
              </div>
            </th>
            <th>
              <div>
                <span>Rarity</span>
              </div>
            </th>
            <th>
              <div>
                <span>XP</span>
              </div>
            </th>
            <th>
              <div>
                <span>Price</span>
              </div>
            </th>
            <th>
              <div>
                <span>Precrafts</span>
              </div>
            </th>
          </tr>
          <tr class="data-info">
            <td colspan="2">
              <div>
                <select2 v-model="filters.origin" :options="options.origins" :placeholder="'Choose origin'"/>
              </div>
            </td>
            <td>
              <div>
                <select2 v-model="filters.rarity" :options="options.rarities" :placeholder="'Choose rarity'"/>
              </div>
            </td>
            <td>
            </td>
            <td>
            </td>
            <td>
              <div>
                <div style="width: 50% !important; display: inline-block;">
                  <input v-model="filters.pre.name" type="search" placeholder="Type in name" class="name"/>
                </div>
                <div style="width: 45% !important; display: inline-block;">
                  <select2 v-model="filters.pre.q" :options="options.qualities" :placeholder="'Choose quality'"/>
                </div>
              </div>
            </td>
          </tr>
          <tr class="split">
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
          </tr>
          <tr class="split">
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
          </tr>
        </thead>
        <item v-for="i in itemsSorted" v-show="visible( items[i] )" :item="items[i]" :key="i"/>
        <tfoot>
          <tr class="split">
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
          </tr>
        </tfoot>
      </table>
    </div>
  </script>
  <script type="text/x-template" id="templates-item">
        <tbody>
          <tr class="data-info">
            <th rowspan="2">
              <div>
                <span class="icon medium item" :class="[ icon( item.type ), 'i-' + icon( item.name ) ]"/>
              </div>
            </th>
            <th>
              <div>
                <span>{{item.name}}</span>
              </div>
            </th>
            <td>
              <div>
                <span class="float-left icon item" :class="[ icon( item.type ) ]"/>
                <span>{{item.type}}</span>
              </div>
            </td>
            <td>
              <div>
                <span>{{item.lv}}</span>
              </div>
            </td>
            <td>
              <div>
                <power :power="{ value: item.power }"/>
              </div>
            </td>
            <td>
              <div class="data-info" v-if="item.skill">
                <span class="float-left htooltip">
                  <span class="htooltip-text">{{'Mark as {0}mastered'.format( item.skill.m ? 'un' : '' )}}</span>
                  <input type="checkbox" v-model="item.skill.m" />
                </span>
                <span class="float-left icon quality" :class="icon( item.skill.q )" />
                <skill :skill="item.skill" :view="'item'" />
              </div>
            </td>
          </tr>
          <tr class="data-info">
            <td>
              <div>
                <span>{{item.origin}}</span>
              </div>
            </td>
            <td>
              <div>
                <span>{{item.rarity}}</span>
              </div>
            </td>
            <td>
              <div>
                <span>{{item.xp.intString()}}</span>
              </div>
            </td>
            <td>
              <div>
                <span>{{item.price.intString()}}</span>
              </div>
            </td>
            <td>
              <div style="text-align: left;">
                <template v-for="pi in item.pre" v-if="item.pre">
                  <span class="htooltip">
                    <span class="htooltip-text">{{"{0} {1}".format( pi.q, pi.item )}}</span>
                    <span class="icon quality" :class="[ icon( pi.q ) ]" />
                    <span class="icon item" :class="[ 'i-' + icon( pi.item ) ]" />
                  </span>
                </template>
              </div>
            </td>
          </tr>
          <tr class="split">
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
          </tr>
        </tbody>
  </script>
  <script type="text/x-template" id="templates-origins">
    <div>
      <table class="shopheroes origin">
        <thead>
          <tr class="split">
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
          </tr>
          <tr class="split">
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
          </tr>
          <tr class="data-info">
            <th class="slot"></th>
            <th class="name">Name</th>
            <th class="type">Type</th>
            <th class="level">Level</th>
            <th class="level">CJs Level</th>
          </tr>
          <tr class="data-info">
            <th></th>
            <td>
              <div>
                <input type="search" placeholder="Type in name" class="name" v-model="filters.name"/>
              </div>
            </td>
            <td>
              <div>
                <select2 v-model="filters.type" :options="options.types" :placeholder="'Choose type'"/>
              </div>
            </td>
            <td>
              <div>
              </div>
            </td>
            <td>
              <div>
              </div>
            </td>
          </tr>
          <tr class="split">
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
          </tr>
          <tr class="split">
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <origin v-for="( origin, i ) in origins" v-show="visible( origin )" :origin="origin" :key="i"/>
        </tbody>
        <tfoot>
          <tr class="split">
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
          </tr>
          <tr class="split">
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
          </tr>
        </tfoot>
      </table>
    </div>
  </script>
  <script type="text/x-template" id="templates-origin">
          <tr class="data-info">
            <th>
              <div>
                <span class="button float-left" :class="[ edit ? 'apply' : 'edit' ]" @click="edit = !edit"/>
              </div>
            </th>
            <th>
              <span>{{origin.name}}</span>
            </th>
            <td>
              <span>{{origin.type}}</span>
            </td>
            <td>
              <div>
                <span class="float-left">
                  <input type="checkbox" v-model="origin.m"/>
                </span>
                <template v-if="origin.cap">
                  <input v-if="edit" type="number" class="lv" v-model.number.lazy="origin.lv"/>
                  <span v-else>{{origin.lv}}</span>
                  <span>&nbsp;/&nbsp;</span>
                  <span>{{origin.cap}}</span>
                </template>
              </div>
            </td>
            <td>
              <div>
                <template v-if="origin.cj">
                  <input v-if="edit" type="number" class="lv" v-model.number.lazy="origin.cj.lv"/>
                  <span v-else>{{origin.cj.lv}}</span>
                  <span>&nbsp;/&nbsp;</span>
                  <span>{{origin.cj.cap}}</span>
                </template>
              </div>
            </td>
          </tr>
  </script>
  <script type="text/x-template" id="templates-heroes">
    <div>
      <table class="shopheroes hero filter">
        <thead>
          <tr class="split">
            <template v-for="j in 7">
              <th class="team-slot"/>
              <th class="team-slot"/>
              <th class="hero-item"/>
            </template>
          </tr>
          <tr class="split">
            <th colspan="21"/>
          </tr>
          <tr class="data-info">
            <th colspan="3">
              <div>
                <span>Name</span>
              </div>
            </th>
            <th colspan="3">
              <div>
                <span>Level</span>
              </div>
            </th>
            <th colspan="3">
              <div>
                <span>Type</span>
              </div>
            </th>
            <th colspan="3">
              <div>
                <span>Tier</span>
              </div>
            </th>
            <th colspan="3">
              <div>
                <span>Sex</span>
              </div>
            </th>
            <th colspan="3">
              <div>
                <span>Origin</span>
              </div>
            </th>
            <th colspan="3">
              <div>
              </div>
            </th>
          </tr>
          <tr class="data-info">
            <td colspan="3">
              <div>
                <input type="search" placeholder="Type in name" class="name" v-model="filters.name"/>
              </div>
            </td>
            <td colspan="3">
              <div>
                <input type="number" class="lv" v-model.number="filters.lv.min"/>
                <span>&nbsp;-&nbsp</span>
                <input type="number" class="lv" v-model.number="filters.lv.max"/>
              </div>
            </td>
            <td colspan="3">
              <div>
                <select2 v-model="filters.type" :options="options.types" :placeholder="'Choose type'" :nosearch="true"/>
              </div>
            </td>
            <td colspan="3">
              <div>
                <select2 v-model="filters.tier" :options="options.tiers" :placeholder="'Choose tier'" :nosearch="true"/>
              </div>
            </td>
            <td colspan="3">
              <div>
                <select2 v-model="filters.sex" :options="options.sex" :placeholder="'Choose sex'" :nosearch="true"/>
              </div>
            </td>
            <td colspan="3">
              <div>
                <select2 v-model="filters.origin" :options="options.origins" :placeholder="'Choose origin'"/>
              </div>
            </td>
            <td colspan="3">
              <div>
                <select2 v-model="filters.skill" :options="options.skills" :placeholder="'Choose skill'"/>
              </div>
            </td>
          </tr>
          <tr class="split">
            <th colspan="21"/>
          </tr>
          <tr class="split">
            <th colspan="21"/>
          </tr>
        </thead>
        <hero v-for="( hero, i ) in heroes" v-show="visible( hero )" :hero="hero" :key="i"/>
        <tfoot>
          <tr class="split">
            <th colspan="21"/>
          </tr>
        </tfoot>
      </table>
    </div>
  </script>
  <script type="text/x-template" id="templates-hero">
        <tbody>
          <tr class="data-info">
            <th rowspan="2" colspan="2">
              <div>
                <span class="icon medium hero" :class="icon( hero.name )"></span>
              </div>
            </th>
            <th>
              <div>
                <span>{{hero.name}}</span>
              </div>
            </th>
            <td>
              <div>
                <span class="button float-left" :class="[ edit ? 'apply' : 'edit' ]" @click="edit = !edit"/>
              </div>
            </td>
            <td colspan="2">
              <div>
                <input v-if="edit" type="number" class="lv" v-model.number.lazy="hero.lv"/>
                <span v-else>{{hero.lv}}</span>
                <span>&nbsp;/&nbsp;</span>
                <span>{{hero.cap}}</span>
              </div>
            </td>
            <td colspan="3">
              <div>
                <span>{{hero.type}}</span>
              </div>
            </td>
            <td colspan="3">
              <div>
                <span>Tier {{hero.tier}}</span>
              </div>
            </td>
            <td colspan="3">
              <div>
                <span>{{hero.sex}}</span>
              </div>
            </td>
            <td colspan="3">
              <div>
                <span>{{hero.origin}}</span>
              </div>
            </td>
            <td colspan="3">
              <div>
              </div>
            </td>
          </tr>
          <tr class="data-info">
            <td>
              <div>
                <span class="float-right htooltip">
                  <span class="htooltip-text">{{'Set {0} boost {1}'.format( hero.origin, ( hero.b ? 'disabled' : 'enabled' ) )}}</span>
                  <input type="checkbox" v-model="hero.b"/>
                </span>
                <power :power="summary.power"/>
              </div>
            </td>
            <td colspan="3">
              <div>
                <skill :skill="summary.skills.hero[0]" view="'hero'"/>
              </div>  
            </td>
            <td colspan="3">
              <div>
                <skill :skill="summary.skills.hero[1]" view="'hero'"/>
              </div>  
            </td>
            <td colspan="3">
              <div>
                <skill :skill="summary.skills.hero[2]" view="'hero'"/>
              </div>  
            </td>
            <td colspan="3" v-for="j in 3">
              <div>
              </div>  
            </td>
          </tr>
          <tr class="data-info">
            <th v-for="items in hero.items" colspan="3">
              <div>
                <item-slot v-for="( slot, i ) in items" :item-slot="slot" :key="i"/>
              </div>  
            </th>
          </tr>
          <tr class="data-info">
            <td v-for="slot in summary.slots" colspan="3">
              <div v-if="slot.name">
                <power :power="slot.power"/>
                <chance :chance="slot.chance"/>
              </div>
            </td>
          </tr>
          <template v-if="edit">
            <tr class="data-info">
              <template v-for="( slot, j ) in summary.slots">
                <td>
                  <div v-if="slot.name">
                    <span class="icon">{{slot.lv}}</span>
                  </div>
                </td>
                <td colspan="2">
                  <div>
                    <select2 v-model="hero.slots[j].item" :options="summary.items[j]" :placeholder="'Choose item'"/>
                  </div>
                </td>
              </template>
            </tr>
            <tr class="data-info">
              <template v-for="( slot, j ) in summary.slots">
                <td>
                  <div v-if="slot.name">
                    <span v-if="slot.optimal" class="icon break optimal"/>
                  </div>
                </td>
                <td colspan="2">
                  <div>
                    <select2 v-model="hero.slots[j].q" :options="options.qualities" :placeholder="'Choose quality'"/>
                  </div>
                </td>
              </template>
            </tr>
          </template>
          <template v-else>
            <tr class="data-info">
              <template v-for="slot in summary.slots">
                <td>
                  <div v-if="slot.name">
                    <span class="icon">{{slot.lv}}</span>
                  </div>
                </td>
                <td>
                  <div v-if="slot.name">
                    <span class="icon quality" :class="icon( slot.q )"/>
                  </div>
                </td>
                <td rowspan="2"> 
                  <div class="data-info">
                    <span class="icon medium item" :class="[ icon( slot.type ), 'i-' + icon( slot.name ) ]"/>
                  </div>
                </td>
              </template>
            </tr>
            <tr class="data-info">
              <template v-for="slot in summary.slots">
                <td>
                  <div v-if="slot.name">
                    <span v-if="slot.optimal" class="icon break optimal"/>
                  </div>
                </td>
                <td/>
              </template>
            </tr>
          </template>
          <tr class="data-info">
            <td v-for="skill in summary.skills.items" colspan="3">
              <div>
                <skill :skill="skill" :view="'hero'"/>
              </div>
            </td>
          </tr>
          <tr class="split">
            <th colspan="21"/>
          </tr>
        </tbody>  
  </script>
  <script type="text/x-template" id="templates-teams">
    <div>
      <table class="shopheroes team filter">
        <thead>
          <tr class="split">
            <template v-for="j in 6">
              <th class="team-slot"/>
              <th class="team-slot"/>
              <th class="team-slot"/>
              <th class="team-hero"/>
            </template>
          </tr>
          <tr class="split">
            <th colspan="24"/>
          </tr>
          <tr class="data-info">
            <th>
              <span class="button add" @click="add"/>
            </th>
            <th colspan="3">
              <div>
                <span>Name</span>
              </div>
            </th>
            <th colspan="20"></th>
          </tr>
          <tr class="data-info">
            <td colspan="4">
              <div>
                <input type="search" placeholder="Type in name" class="name" v-model="filters.name"/>
              </div>
            </td>
            <td colspan="4">
              <span class="button undo float-left" @click="undo" :class="history.pos == 0 ? 'hidden' : ''"/>
              <span>&nbsp;</span>
              <span class="button redo float-right" @click="redo" :class="history.pos == history.states.length - 1 ? 'hidden' : ''"/>
            </td>
            <td colspan="16"/>
          </tr>
        </thead>
        <team v-for="( team, i ) in teams" v-show="visible( team )" :team="team" :key="i"/>
        <tfoot>
          <tr class="split">
            <th colspan="24"/>
          </tr>
          <tr class="split">
            <th colspan="24"/>
          </tr>
        </tfoot>
      </table>
    </div>
  </script>
  <script type="text/x-template" id="templates-team">
        <tbody>
          <tr class="split">
            <th colspan="24"/>
          </tr>
          <tr class="split">
            <th colspan="24"/>
          </tr>
          <tr class="data-info">
            <th>
              <div>
                <span class="button float-left" :class="[ edit ? 'apply' : 'edit' ]" @click="edit = !edit"/>
              </div>
            </th>
            <th colspan="3">
              <div>
                <input v-if="edit" v-model="team.name"/>
                <span v-else>{{team.name}}</span>
              </div>
            </th>
            <th colspan="4">
              <div>
                <power :power="summary.power"/>
              </div>
            </th>
            <th colspan="4" v-for="j in 4"/>
          </tr>
          <tr class="data-info">
            <th>
              <div>
                <span class="button remove float-left" @click="remove( team )"/>
              </div>
            </th>
            <th colspan="3">
              <div class="team-selector-quest">
                <select2 v-model="quest.choice" :options="options.quests" :placeholder="'Choose quest'" />
              </div>
              <div class="team-selector-boss" :class="{ 'hidden': !summary.quest.boss }">
                <input type="checkbox" v-model="quest.boss"/>
              </div>
            </th>
            <th colspan="4">
              <div>
                <power :power="summary.quest.power"/>
                <span v-if="summary.quest.time.value" class="float-right">
                  <span class="icon timers quest"/>
                  <span>{{summary.quest.time.value.dateString()}}</span>
                </span>
              </div>
            </th>
            <th colspan="4" v-for="j in 4"/>
          </tr>
          <template v-if="summary.skills">
            <tr v-for="k in get_k( summary.skills.length, 6 )" class="data-info">
              <template v-for="j in 6">
                <td colspan="4">
                  <div>
                    <skill :skill="summary.skills[6*(k-1)+j-1]" :view="'hero'" />
                  </div>
                </td>
              </template>
            </tr>
          </template>
          <tr class="split">
            <th colspan="24"/>
          </tr>
          <!-- Begin Heroes names row -->
          <tr class="data-info">
            <template v-for="( sh, j ) in summary.roster">
              <th rowspan="2" colspan="2">
                <div v-if="sh.hero.name">
                  <span class="icon medium hero" :class="icon( sh.hero.name )"/>
                </div>
              </th>
              <th>
                <div v-if="sh.hero.name">
                  <span class="icon">{{sh.hero.lv}}</span>
                </div>
              </th>
              <th>
                <div v-if="edit">
                  <select2 v-model="team.roster[j].name" :options="options.heroes[j]" :placeholder="'Choose hero'" @input="set_roster(j)"/>
                </div>
                <div v-if="sh.hero.name && !edit">
                  <span>{{sh.hero.name.replace( /\s+/g, '&nbsp;' )}}</span>
                </div>
              </th>
            </template>
          </tr>
          <!-- End Heroes names row -->
          <!-- Begin Heroes power row -->
          <tr class="data-info">
            <template v-for="( sh, j ) in summary.roster">
              <td>
                <div v-if="sh.hero.name">
                  <span v-if="sh.origin && sh.origin.b" class="htooltip">
                    <span class="htooltip-text">{{'Set {0} boost {1}'.format( sh.origin.name, ( team.roster[j].b ? 'disabled' : 'enabled' ) )}}</span>
                    <input type="checkbox" v-model="team.roster[j].b" @change="set_boost( sh.origin.name, team.roster[j].b )"/>
                  </span>
                </div>
              </td>
              <td>
                <div v-if="sh.hero.name">
                  <power :power="sh.power"/>
                </div>
              </td>
            </template>
          </tr>
          <!-- End Heroes power row -->
          <!-- Begin Heroes quest info row -->
          <template v-if="quest.choice">
            <tr class="data-info">
              <template v-for="( sh, j ) in summary.roster">
                <td colspan="3">
                  <div v-if="sh.hero.name">
                    <span class="float-left">
                      <span class="icon timers resting"/>
                      <span v-if="sh.quest.rest.value >= 0">{{sh.quest.rest.value.dateString()}}</span>
                    </span>
                  </div>
                </td>
                <td>
                  <div v-if="sh.hero.name">
                    <power :power="sh.quest.power"/>
                  </div>
                </td>
              </template>
            </tr>
            <tr class="data-info">
              <template v-for="( sh, j ) in summary.roster">
                <td colspan="3">
                  <div v-if="sh.hero.name">
                    <span class="float-left">
                      <span class="icon timers injury"/>
                      <span v-if="sh.quest.heal.value >= 0">{{sh.quest.heal.value.dateString()}}</span>
                    </span>
                  </div>
                </td>
                <td>
                  <div v-if="sh.hero.name">
                    <span class="float-left">
                      <span class="icon hero face" :class="sh.quest.face"/>
                      <span v-if="sh.quest.chance">{{sh.quest.chance.pptString(1)}}</span>
                    </span>
                  </div>
                </td>
              </template>
            </tr>
            <tr class="data-info">
              <template v-for="( sh, j ) in summary.roster">
                <td>
                  <div v-if="sh.hero.name">
                    <span class="icon artifact" :class="icon( summary.quest.item )"></span>
                  </div>
                </td>
                <td colspan="2">
                  <div v-if="sh.hero.name">
                    <span>
                      <span>{{sh.quest.loot.min}}</span>
                      <span>&nbsp;-&nbsp;</span>
                      <span>{{sh.quest.loot.max}}</span>
                    </span>
                  </div>
                </td>
                <td>
                  <div v-if="sh.hero.name">
                    <span>{{summary.quest.item}}</span>
                  </div>
                </td>
              </template>
            </tr>
          </template>
          <!-- End Heroes quest info row -->
          <template v-if="summary.assigned > 0">
          <!-- Begin Heroes skills info rows -->
          <template v-for="k in 3">
            <tr class="data-info">
              <template v-for="( sh, j ) in summary.roster">
                <td colspan="4">
                  <div v-if="sh.hero.name">
                    <skill :skill="sh.skills.hero[k-1]" view="'hero'"/>
                  </div>  
                </td>
              </template>
            </tr>
          </template>
          <!-- End Heroes skills info rows -->
          <!-- Begin Heroes items info row -->
          <template v-for="k in 7">
            <tr class="data-info">
              <template v-for="( sh, j ) in summary.roster">
                <td colspan="4">
                  <div v-if="sh.hero.name">
                    <item-slot v-for="( slot, i ) in sh.hero.items[k-1]" :item-slot="slot" :key="i"/>
                  </div>
                </td>
              </template>
            </tr>
            <tr class="data-info">
              <template v-for="( sh, j ) in summary.roster">
                <td colspan="4">
                  <div v-if="sh.hero.name">
                    <power :power="sh.slots[k-1].power"/>
                    <chance :chance="sh.slots[k-1].chance"/>
                  </div>
                </td>
              </template>
            </tr>
            <template v-if="edit">
              <tr class="data-info">
                <template v-for="( sh, j ) in summary.roster">
                  <td>
                    <div v-if="sh.hero.name && sh.slots[k-1]">
                      <span class="icon">{{sh.slots[k-1].lv}}</span>
                    </div>
                  </td>
                  <td colspan="3"> 
                    <div v-if="sh.hero.name">
                      <select2 v-if="edit" v-model="team.roster[j].slots[k-1].item" :options="sh.items[k-1]" :placeholder="'Choose item'"/>
                    </div>
                  </td>
                </template>
              </tr>
              <tr class="data-info">
                <template v-for="( sh, j ) in summary.roster">
                  <td>
                    <div v-if="sh.hero.name && sh.slots[k-1]">
                      <span v-if="sh.slots[k-1].optimal" class="icon break optimal"/>
                    </div>
                  </td>
                  <td colspan="3"> 
                    <div v-if="sh.hero.name">
                      <select2 v-if="edit" v-model="team.roster[j].slots[k-1].q" :options="options.qualities" :placeholder="'Choose quality'"/>
                    </div>
                  </td>
                </template>
              </tr>
            </template>
            <template v-else>
              <tr class="data-info">
                <template v-for="( sh, j ) in summary.roster">
                  <td>
                    <div v-if="sh.hero.name && sh.slots[k-1]">
                      <span class="icon">{{sh.slots[k-1].lv}}</span>
                    </div>
                  </td>
                  <td>
                    <div v-if="sh.hero.name && sh.slots[k-1]">
                      <span class="float-right icon quality" :class="icon( sh.slots[k-1].q )" v-if="sh.slots[k-1].q"/>
                    </div>
                  </td>
                  <td rowspan="2" colspan="2"> 
                    <div v-if="sh.hero.name && sh.slots[k-1]">
                      <span class="icon medium item" :class="[ icon( sh.slots[k-1].type ), 'i-' + icon( sh.slots[k-1].name ) ]"/>
                    </div>
                  </td>
                </template>
              </tr>
              <tr class="data-info">
                <template v-for="( sh, j ) in summary.roster">
                  <td>
                    <div v-if="sh.hero.name && sh.slots[k-1]">
                      <span v-if="sh.slots[k-1].optimal" class="icon break optimal"/>
                    </div>
                  </td>
                  <td>
                  </td>
                </template>
              </tr>
            </template>
            <tr class="data-info">
              <template v-for="( sh, j ) in summary.roster">
                <td colspan="4">
                  <div v-if="sh.hero.name">
                    <skill :skill="sh.skills.items[k-1]" :view="'hero'"/>
                  </div>
                </td>
              </template>
            </tr>
          </template>
          <!-- End Heroes items info row -->
          </template>
        </tbody>
  </script>
  <script type="text/x-template" id="templates-quests">
    <div>
      <table class="shopheroes quest filter">
        <thead>
          <tr class="split">
            <th class="name" colspan="3"/>
            <th class="item" colspan="2"/>
            <th class="item" colspan="2"/>
            <th class="item" colspan="2"/>
            <th class="item" colspan="2"/>
            <th class="item" colspan="2"/>
            <th class="item" colspan="2"/>
          </tr>
          <tr class="split">
            <th colspan="15"/>
          </tr>
          <tr class="data-info">
            <th colspan="3">
              <div>
                <span>Name</span>
              </div>
            </th>
            <th colspan="2">
              <div>
                <span>Tier I</span>
              </div>
            </th>
            <th colspan="2">
              <div>
                <span>Tier II</span>
              </div>
            </th>
            <th colspan="2">
              <div>
                <span>Tier III</span>
              </div>
            </th>
            <th colspan="2">
              <div>
                <span>Tier IV</span>
              </div>
            </th>
            <th colspan="2">
              <div>
                <span>Tier V</span>
              </div>
            </th>
            <th colspan="2">
              <div>
                <span>Cleared</span>
              </div>
            </th>
          </tr>
          <tr class="data-info">
            <td colspan="3">
              <div>
                <input type="search" placeholder="Type in name" class="name" v-model="filters.name"/>
              </div>
            </td>
            <td colspan="2">
            </td>
            <td colspan="2">
            </td>
            <td colspan="2">
            </td>
            <td colspan="2">
            </td>
            <td colspan="2">
            </td>
            <td colspan="2">
            </td>
          </tr>
        </thead>
        <quest v-for="( quest, i ) in quests" v-show="visible( quest )" :quest="quest" :key="i"/>
        <tfoot>
          <tr class="split">
            <th colspan="15"/>
          </tr>
          <tr class="split">
            <th colspan="15"/>
          </tr>
        </tfoot>
      </table>
    </div>
  </script>
  <script type="text/x-template" id="templates-quest">
        <tbody>
          <tr class="split">
            <th colspan="15"/>
          </tr>
          <tr class="split">
            <th colspan="15"/>
          </tr>
          <tr class="data-info">
            <th rowspan="2">
              <div>
                <span class="icon medium quest" :class="[ icon( quest.name ) ]"/>
              </div>
            </th>
            <th>
              <div>
                <span>{{quest.name}}</span>
              </div>
            </th>
            <td>
              <div>
                <span>{{quest.time.dateString()}}</span>
              </div>
            </td>
            <td v-for="j in 6" colspan="2">
              <div>
              </div>
            </td>
          </tr>
          <tr class="data-info">
            <td>
              <div>
                <span>{{quest.origin}}</span>
              </div>
            </td>
            <th>
              <div>
                <span>Group</span>
              </div>
            </th>
            <td v-for="j in 6" colspan="2">
              <div v-if="quest.tiers[j-1]">
                <power :power="{ value: quest.tiers[j-1].power || quest.power }" />
              </div>
            </td>
          </tr>
          <tr class="data-info">
            <th>
              <div>
                <span>Chest</span>
              </div>
            </th>
            <td>
              <div v-if="quest.key">
                <span class="float-left icon item chest" :class="icon( quest.key )"/>
                <span>{{quest.key}}</span>
              </div>
            </td>
            <th>
              <div>
                <span>Normal</span>
              </div>
            </th>
            <template v-for="j in 6">
              <td>
                <div v-if="quest.tiers[j-1] && quest.tiers[j-1].base">
                  <power :power="{ value: quest.tiers[j-1].base.power }" />
                </div>
              </td>
              <td>
                <div v-if="quest.tiers[j-1] && quest.tiers[j-1].base">
                  <span class="float-right">{{quest.tiers[j-1].base.xp.toLocaleString()}}</span>
                </div>
              </td>
            </template>
          </tr>
          <tr class="data-info">
            <th>
              <div>
                <span>Bag</span>
              </div>
            </th>
            <td>
              <div v-if="quest.bag">
                <span class="float-left icon item bag" :class="icon( quest.bag )"/>
                <span>{{quest.bag}}</span>
              </div>
            </td>
            <th>
              <div>
                <span>Boss</span>
              </div>
            </th>
            <template v-for="j in 6">
              <td>
                <div v-if="quest.tiers[j-1] && quest.tiers[j-1].boss">
                  <power :power="{ value: quest.tiers[j-1].boss.power }" />
                </div>
              </td>
              <td>
                <div v-if="quest.tiers[j-1] && quest.tiers[j-1].boss">
                  <span class="float-right">{{quest.tiers[j-1].boss.xp.toLocaleString()}}</span>
                </div>
              </td>
            </template>
          </tr>
          <tr class="data-info">
            <th>
              <div>
                <span>Loot</span>
              </div>
            </th>
            <td>
              <div v-if="quest.item">
                <span class="float-left icon artifact" :class="icon( quest.item )"/>
                <span>{{quest.item}}</span>
              </div>
            </td>
            <th>
              <div>
                <span>Count</span>
              </div>
            </th>
            <template v-for="j in 6">
              <td>
                <div v-if="quest.tiers[j-1] && quest.tiers[j-1].loot">
                  <span class="float-right">{{quest.tiers[j-1].loot.min}}</span>
                </div>
              </td>
              <td>
                <div v-if="quest.tiers[j-1] && quest.tiers[j-1].loot">
                  <span class="float-left">{{quest.tiers[j-1].loot.max}}</span>
                </div>
              </td>
            </template>
          </tr>
        </tbody>
  </script>
</html>